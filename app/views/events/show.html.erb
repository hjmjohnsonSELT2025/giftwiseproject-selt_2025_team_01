<%= render EntityHeaderCardComponent.new(
  entity: @event,
  back_path: events_path,
  icon_svg: <<~SVG.html_safe,
    <svg class="w-16 h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke-width="2"/>
      <line x1="16" y1="2" x2="16" y2="6" stroke-width="2" stroke-linecap="round"/>
      <line x1="8" y1="2" x2="8" y2="6" stroke-width="2" stroke-linecap="round"/>
      <line x1="3" y1="10" x2="21" y2="10" stroke-width="2"/>
    </svg>
  SVG
  icon_wrapper_classes: "w-28 h-28 bg-gradient-to-br from-pink-300 to-pink-400 rounded-3xl flex items-center justify-center mr-6 shadow-lg",
    tags: [{ label: @event.date.strftime("%B %-d, %Y"), color: "bg-indigo-100 text-indigo-700" }],
  edit_path: edit_event_path(@event),
  delete_path: event_path(@event)
) %>

<div class="max-w-5xl mx-auto">

  <!-- Event details -->
  <%= render EventDetailsComponent.new(event: @event) %>

  <!-- Event recipients -->
  <h2 class="text-lg font-semibold text-gray-700 mb-4">Recipients</h2>
  <div id="event-recipients">
    <% @event.recipients.each do |recipient| %>
      <%= render EventRecipientCardComponent.new(event: @event, recipient: recipient, action: :remove) %>
    <% end %>
  </div>

  <!-- Available recipients -->
  <div id="available-recipients" class="mt-6">
    <%= render AvailableRecipientsComponent.new(
      event: @event,
      recipients: current_user.recipients - @event.recipients
    ) %>
  </div>

</div>
