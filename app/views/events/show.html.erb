<%= render SectionHeaderComponent.new(
  title: @event.name,
  subtitle: @event.date.strftime("%B %-d, %Y")
) %>

<div class="max-w-4xl mx-auto px-2">

  <%= render EventDetailsComponent.new(event: @event) %>

  <h2 class="text-lg font-semibold text-gray-700 mb-4">Recipients</h2>

  <% @event.recipients.each do |recipient| %>
    <%= render EventRecipientCardComponent.new(event: @event, recipient: recipient) %>
  <% end %>

  <%= render AvailableRecipientsComponent.new(
    event: @event,
    recipients: current_user.recipients - @event.recipients
  ) %>

  <div class="mt-8 flex gap-4 text-sm text-gray-600">
    <%= link_to "Edit", edit_event_path(@event), class: "text-indigo-600" %>
    <%= link_to "Delete", event_path(@event),
                data: { turbo_method: :delete },
                class: "text-red-600" %>
    <%= link_to "Back", events_path, class: "text-gray-600" %>
  </div>

</div>
