<%= form_with model: @event, local: true do |f| %>

  <!-- Errors (you can restyle later) -->
  <% if @event.errors.any? %>
    <div class="mb-6 bg-red-50 border border-red-200 p-4 rounded-xl text-red-700">
      <h2 class="font-semibold mb-2">
        <%= pluralize(@event.errors.count, "error") %> prevented this event from being saved:
      </h2>
      <ul class="list-disc ml-6">
        <% @event.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= render FormFieldComponent.new(form: f, field: :name) %>
  <%= render FormFieldComponent.new(form: f, field: :date, type: :date_field) %>
  <%= render FormFieldComponent.new(form: f, field: :description, type: :text_area, options: { rows: 4 }) %>
  <%= render FormFieldComponent.new(form: f, field: :theme) %>
  <%= render FormFieldComponent.new(form: f, field: :budget, type: :number_field, options: { step: 0.01 }) %>

  <div class="mt-6">
    <%= f.submit @event.persisted? ? "Update Event" : "Create Event",
                 class: "w-full bg-gradient-to-r from-purple-400 to-indigo-400 text-white font-semibold py-3 rounded-xl shadow-md hover:shadow-lg transition-all duration-200" %>
  </div>
<% end %>
